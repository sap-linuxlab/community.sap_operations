# sap_monitor_nw_perf Ansible Module

## Description

This Ansible Module returns performance metrics of SAP Netweaver instance using `sapcontrol` function `GetAlertTree`.

## Parameters

| Parameter | Required | Default | Details |
| --- | --- | --- | --- |
| nw_sid | Yes | | SAP Netweaver SID |
| nw_instance_number | Yes | | SAP Netweaver Instance Number |


## Returned Values
Each returned parameter can be retrieved from registered variable.

| Parameter | Details |
| --- | --- |
| cpu_util | CPU Utilization parsed from `CPU_Utilization` |
| extended_memory | Extended Memory size parsed from `EsAct` |
| heap_memory | Heap Memory size parsed from `HeapAct` |
| program_swap | Program SWAP size parsed from `Program `and `Swap`|

**NOTE:**

- Values `-` are generated by `sapcontrol` when instance is unavailable or metric is not captured.

### Example
Example of getting performance metrics of SAP Netweaver with SID `B01` and Instance Number `01` of Type `PAS`. 

```yaml
---
- name: Ansible Play
  hosts: bw
  become: true

  tasks:

    - name: Execute Ansible Module sap_monitor_nw_perf
      community.sap_operations.sap_monitor_nw_perf:
        nw_sid: B01
        nw_instance_number: '01'
      register: __sap_monitor_nw_perf

    - name: Show returned values from sap_monitor_nw_perf
      ansible.builtin.debug:
        var: __sap_monitor_nw_perf
```

Example of returned values.
```console
ok: [b01hana] =>
    __sap_monitor_nw_perf:
        changed: false
        cpu_util: '-'
        extended_memory: '25'
        failed: false
        heap_memory: '0'
        msg: SAP Check Successful
        program_swap: ''
```
